syntax = "proto3";

package athena;

import "google/protobuf/empty.proto";
import "models.proto";

option csharp_namespace = "Resolver.Athena.Grpc";
option java_outer_classname = "AthenaServiceProto";
option java_package = "com.resolver.athena.grpc";
option objc_class_prefix = "RAT";
option php_namespace = "Resolver\\Athena\\Grpc";
option ruby_package = "Resolver::Athena::Grpc";
option swift_prefix = "RAT";

// The classifier service definition.
// Provides image classification capabilities with session-based streaming
// and client management functionality.
service ClassifierService {
  // Classify images in a deployment-based streaming context
  // Multiple affiliates can join the same deployment to share responses
  // Supports bidirectional streaming for real-time classification
  rpc Classify(stream ClassifyRequest) returns (stream ClassifyResponse);

  // Retrieves a list of all active deployment IDs
  // Returns the active deployment_id values that can be used in Classify requests
  // Useful for monitoring and debugging active connections
  rpc ListDeployments(google.protobuf.Empty) returns (ListDeploymentsResponse);
}
